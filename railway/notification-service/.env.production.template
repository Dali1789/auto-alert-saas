# AUTO-ALERT SAAS - PRODUCTION ENVIRONMENT TEMPLATE
# Copy this to Railway Environment Variables section
# Replace all placeholder values with your actual credentials

# ===================================================================
# CRITICAL SERVICE CONFIGURATION
# ===================================================================
NODE_ENV=production
PORT=3001

# ===================================================================
# DATABASE CONNECTION (SUPABASE)
# ===================================================================
# Your Railway Supabase PostgreSQL URL
SUPABASE_URL=https://kong-production-9e43.up.railway.app

# Service Role Key from Supabase Dashboard â†’ Settings â†’ API
# Format: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=YOUR_ACTUAL_SERVICE_ROLE_KEY_HERE

# ===================================================================
# RETELL AI VOICE CALLS
# ===================================================================
# API Key from Retell AI Dashboard â†’ API Keys
# Format: key_xxxxxxxxxxxxxxxxxxxxxxxxx
RETELL_API_KEY=key_YOUR_ACTUAL_RETELL_KEY_HERE

# Agent ID from Retell AI Dashboard â†’ Agents
# Format: agent_xxxxxxxxxxxxxxxxxxxxxxxxx
RETELL_AGENT_ID=agent_YOUR_RETELL_AGENT_ID_HERE

# Your Retell phone number for outbound calls
# Format: +4915123456789 (German number recommended)
RETELL_PHONE_NUMBER=+4915123456789

# ===================================================================
# RESEND EMAIL SERVICE
# ===================================================================
# API Key from Resend Dashboard â†’ API Keys
# Format: re_xxxxxxxxxxxxxxxxxxxxxxxxx
RESEND_API_KEY=re_YOUR_ACTUAL_RESEND_KEY_HERE

# ===================================================================
# WEBHOOK SECURITY & FRONTEND
# ===================================================================
# Secret for webhook signature validation
WEBHOOK_SECRET=auto-alert-webhook-secret-2024

# Frontend URL for CORS configuration
FRONTEND_URL=https://auto-alert.vercel.app

# ===================================================================
# OPTIONAL CONFIGURATION
# ===================================================================
# n8n webhook URL (for testing)
N8N_WEBHOOK_URL=https://dali-n8n-1709.up.railway.app

# Rate limiting (requests per 15 minutes)
RATE_LIMIT=100

# ===================================================================
# VALIDATION CHECKLIST
# ===================================================================
# Before deployment, ensure:
# [ ] SUPABASE_URL is accessible (test with curl)
# [ ] SUPABASE_SERVICE_ROLE_KEY has correct permissions
# [ ] RETELL_API_KEY is valid and active
# [ ] RESEND_API_KEY is verified and has sending quota
# [ ] All keys are in correct format (check prefixes)
# [ ] Phone number is international format (+country code)

# ===================================================================
# QUICK VALIDATION COMMANDS
# ===================================================================
# Test Supabase connection:
# curl -H "apikey: YOUR_SERVICE_ROLE_KEY" https://kong-production-9e43.up.railway.app/rest/v1/

# Test Retell AI:
# curl -H "Authorization: Bearer YOUR_RETELL_KEY" https://api.retellai.com/list-phone-numbers

# Test Resend:
# curl -H "Authorization: Bearer YOUR_RESEND_KEY" https://api.resend.com/domains

# ===================================================================
# DEPLOYMENT NOTES
# ===================================================================
# 1. Set these in Railway Service â†’ Variables tab
# 2. Do NOT commit actual values to Git
# 3. Test each service individually after setting variables
# 4. Use /health/detailed endpoint to verify all connections
# 5. Check Railway logs if any service fails to connect

# ===================================================================
# SECURITY WARNINGS
# ===================================================================
# ðŸš¨ NEVER commit actual API keys to version control
# ðŸš¨ Use Railway's environment variables feature
# ðŸš¨ Rotate keys regularly for production use
# ðŸš¨ Monitor API usage and set up alerts
# ðŸš¨ Ensure Supabase RLS policies are properly configured